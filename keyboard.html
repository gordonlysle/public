<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Piano Keyboard</title>
    <link rel="stylesheet" href="styles.css">


    <style>

body {
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    background-color: #282c34;
    margin: 0;
    font-family: Arial, sans-serif;
}

.piano-border {
    position: absolute;
    padding: 10px;
    border: 3px solid #444;
    border-radius: 8px;
    cursor: grab;
    background-color: #20232a;
}

.piano-border:active {
    cursor: grabbing;
}

.piano {
    display: flex;
}

.key {
    width: 40px;
    height: 150px;
    margin: 2px;
    border: 1px solid #000;
    cursor: pointer;
    display: flex;
    justify-content: center;
    align-items: flex-end;
    padding-bottom: 10px;
    font-size: 12px;
    user-select: none;
    transition: background-color 0.2s ease;
}

.white {
    background-color: white;
    color: black;
}

.black {
    background-color: black;
    color: white;
    width: 30px;
    height: 100px;
    margin-left: -15px;
    margin-right: -15px;
    z-index: 1;
    position: relative;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
}

.key span {
    line-height: 1.2;
    font-size: 10px;
}

.key:hover {
    background-color: #ddd;
}

.key.active {
    background-color: #999;
}

.black:hover {
    background-color: #333;
}

.black.active {
    background-color: #666;
}




    </style>

</head>




<body>
    <div class="piano-border" id="piano-border">
        <div class="piano-container" id="piano-container">
            <div class="piano">
                <div data-note="B2" class="key white" data-key="q">B2</div>
                <div data-note="C3" class="key white" data-key="a">C3</div>
                <div data-note="C#3" class="key black" data-key="w"><span>Db</span><br /><span>C#</span></div>
                <div data-note="D3" class="key white" data-key="s">D3</div>
                <div data-note="Eb3" class="key black" data-key="e"><span>Eb</span><br /><span>D#</span></div>
                <div data-note="E3" class="key white" data-key="d">E3</div>
                <div data-note="F3" class="key white" data-key="f">F3</div>
                <div data-note="F#3" class="key black" data-key="t"><span>Gb</span><br /><span>F#</span></div>
                <div data-note="G3" class="key white" data-key="g">G3</div>
                <div data-note="G#3" class="key black" data-key="y"><span>Ab</span><br /><span>G#</span></div>
                <div data-note="A3" class="key white" data-key="h">A3</div>
                <div data-note="Bb3" class="key black" data-key="u"><span>Bb</span><br /><span>A#</span></div>
                <div data-note="B3" class="key white" data-key="j">B3</div>
                <div data-note="C4" class="key white" data-key="k">C4</div>
                <div data-note="C#4" class="key black" data-key="o"><span>Db</span><br /><span>C#</span></div>
                <div data-note="D4" class="key white" data-key="l">D4</div>
                <div data-note="Eb4" class="key black" data-key="p"><span>Eb</span><br /><span>D#</span></div>
                <div data-note="E4" class="key white" data-key=";">E4</div>
                <div data-note="F4" class="key white" data-key="'">F4</div>
                <div data-note="F#4" class="key black" data-key="]"><span>Gb</span><br /><span>F#</span></div>
            </div>
        </div>
    </div>

<script>

const context = new (window.AudioContext || window.webkitAudioContext)();

const frequencies = {
    'B2': 123.47, 'C3': 130.81, 'C#3': 138.59, 'D3': 146.83, 'Eb3': 155.56,
    'E3': 164.81, 'F3': 174.61, 'F#3': 185.00, 'G3': 196.00, 'G#3': 207.65,
    'A3': 220.00, 'Bb3': 233.08, 'B3': 246.94, 'C4': 261.63, 'C#4': 277.18,
    'D4': 293.66, 'Eb4': 311.13, 'E4': 329.63, 'F4': 349.23, 'F#4': 369.99,
    'G4': 392.00
};

let oscillators = {};

function playTone(note, keyElement) {
    const osc = context.createOscillator();
    osc.frequency.value = frequencies[note];
    osc.type = 'sine';
    osc.connect(context.destination);
    osc.start();
    oscillators[note] = osc;
    keyElement.classList.add('active');
}

function stopTone(note, keyElement) {
    if (oscillators[note]) {
        oscillators[note].stop();
        delete oscillators[note];
    }
    keyElement.classList.remove('active');
}

document.querySelectorAll('.key').forEach(key => {
    key.addEventListener('mousedown', () => playTone(key.dataset.note, key));
    key.addEventListener('mouseup', () => stopTone(key.dataset.note, key));
    key.addEventListener('mouseleave', () => stopTone(key.dataset.note, key));
});

document.addEventListener('keydown', (e) => {
    const key = document.querySelector(`.key[data-key="${e.key}"]`);
    if (key && !oscillators[key.dataset.note]) {
        playTone(key.dataset.note, key);
    }
});

document.addEventListener('keyup', (e) => {
    const key = document.querySelector(`.key[data-key="${e.key}"]`);
    if (key) {
        stopTone(key.dataset.note, key);
    }
});

// Draggable Piano
const pianoBorder = document.getElementById('piano-border');
let isDragging = false;
let offsetX, offsetY;

pianoBorder.addEventListener('mousedown', (e) => {
    isDragging = true;
    offsetX = e.clientX - pianoBorder.getBoundingClientRect().left;
    offsetY = e.clientY - pianoBorder.getBoundingClientRect().top;
    pianoBorder.style.cursor = 'grabbing';
});

document.addEventListener('mousemove', (e) => {
    if (isDragging) {
        pianoBorder.style.left = `${e.clientX - offsetX}px`;
        pianoBorder.style.top = `${e.clientY - offsetY}px`;
    }
});

document.addEventListener('mouseup', () => {
    isDragging = false;
    pianoBorder.style.cursor = 'grab';
});

</script>


    <script src="script.js"></script>

</body>

</html>
